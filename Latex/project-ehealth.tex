% !TEX encoding = UTF-8
%Koma article
\documentclass[fontsize=12pt,paper=letter,twoside]{scrartcl}
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{mathtools}

%Standard Pre-amble
\input{sty/defns.tex}

% Set the header
\ihead[]{\small EECS4312 eHealth Project}
\title{EECS4312 eHealth Project}

%Useful definitions
%\newcommand{\mv}[1]{\textit{m\_#1}}
%\newcommand{\cv}[1]{\textit{c\_#1}}
%\newcommand{\degree}[1]{^{\circ}\mathrm{#1}}
%\newcommand{\comment}[1]{{\footnotesize \quad\texttt{--}\textrm{#1}}}

%%%%%%%%%%%%Enter your names here%%%%%%%%
\author{{Siraj Rauff (cse23188@cse.yorku.ca)}
\and {Skyler Layne (cse23170@cse.yorku.ca)}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\date{\today} % Display a given date or no date

\begin{document}
\maketitle

\noindent You may work on your own or in a team of no more than two students. \textbf{Submit only one document under one Prism account.} 

\bigskip
\noindent \textbf{Prism account used for submission}: cse23188

\bigskip\noindent
Keep track of your revisions in the table below.

\section*{Revisions}
%%%%%%%%%%%%Table of revisions%%%%%%%%
\begin{tabular}{|l|l|p{3in}|}
\hline
Date & Revision& Description \\ 
\hline

\hl{date please}

& 1.0       
& Initial requirements document\\ 
\hline
\end{tabular}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage

\vspace*{2in}
\begin{center}
\huge{\textbf{Requirements Document}:\\ for Patient care eHealth System}
\end{center}

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tableofcontents
\listoffigures
\listoftables
\newpage

%%%%Rest of your document goes here%%%%%%%%%%%%%%%%%%%

\section{System Overview}

The System Under Development (SUD) is a computer system to create and manage health prescription records for Ontario.

This requirements document is specifically for prescription management. The purpose of the eHealth Patient care System is to maintain physicians, medications, patients, and patient prescriptions. The system will also control the undesirable interactions between medications, that is when two medications conflict in some way with one another. Only specialist physicians should be allowed to prescribe undesirable interactions while general physicians should be allowed to prescribe medications, as long as they do not create undesirable interactions. 

%\begin{figure}[!htb]
%\begin{center}
%\includegraphics[width=.4\textwidth]{pics/isolette.png}
%\end{center}
%\caption{Isolette}
%\label{fig:isolette}
%\end{figure}

\newpage


\input{context-diagram}

\newpage

\input{goals}

\newpage

\input{monitored-variables}

\newpage

\input{controlled-variables}

\newpage
%\input{mode-diagram}

\input{er-descriptions}

%\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\input{abstract-state}


\input{function-tables}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Validation}
\hl{todo}
\begin{figure}[!htb]
\begin{center}
\includegraphics[width=1\textwidth]{pics/top.png}
\end{center}
\caption{Validated Isolette}
\label{proofs}
\end{figure}


You must also provide and prove in PVS one important safety invariant for the heat control $\cv{hc}$ and one important safety invariant for the alarm control \cv{al}.

Include the PVS sources in the appendix to this document but summarize the proofs here (top.summary).

\newpage 
\section{Use Cases}

See Section A2 of \cite{REMH} for some use cases. The use cases need to be adapted to the revised descriptions of the previous sections of this document.

\newpage
\section{Acceptance Tests}

%%%%%
\begin{figure}[h]
\begin{pvs}
Ñ at1.txt
add_physician	   (1, "Mayo", specialist)
add_patient        (3, "Dora")
add_patient        (1, "Drew")
add_medication     (1, ["Wafarin", pill, 1.0, 6.0])
add_medication     (3, ["caffeine", liquid, 1.0, 16.0])
add_medication     (2, ["acetaminophen", liquid, 1.0, 25.5])
add_interaction    (2,3)
add_interaction    (1,2)
new_prescription   (2, 1, 3)
new_prescription   (1, 1, 1)
dpr_q
add_medicine       (1, 1, 5.5)
add_medicine       (1, 2, 5.5)
add_medicine       (1, 3, 5.5)
add_medicine       (2, 2, 5.5)
add_medicine       (2, 3, 5.5)
add_medicine       (2, 1, 5.5)
prescriptions_q(1)
\end{pvs}
\caption{First Acceptance Test}
\label{at1}
\end{figure}
%%%%%

%%%%%
\begin{figure}[h]
\begin{pvs}
-- at2.txt
add_physician	   (1, "Mayo", specialist)
add_patient        (3, "Drew")
add_patient        (1, "Helen")
add_medication     (1, ["Wafarin", pill, 1.0, 6.0])
add_medication     (3, ["caffeine", liquid, 1.0, 16.0])
add_medication     (2, ["acetaminophen", liquid, 1.0, 25.5])
add_interaction    (1,2)
add_interaction    (1,3)
add_interaction    (2,3)
new_prescription   (2, 1, 3)
new_prescription   (1, 1, 1)
add_medicine       (1, 1, 5.5)
add_medicine       (1, 2, 5.5)
add_medicine       (1, 3, 5.5)
add_medicine       (2, 2, 5.5)
add_medicine       (2, 3, 5.5)
add_medicine       (2, 1, 5.5)
dpr_q
remove_medicine(2,1)
remove_medicine(2,2)
remove_medicine(2,3)
add_medicine       (1, 1, 5.5)
add_medicine       (1, 2, 5.5)
add_medicine       (1, 3, 5.5)
dpr_q
\end{pvs}
\caption{Second Acceptance Test}
\label{at2}
\end{figure}
%%%%%

\newpage
\section{Traceability}

Matrix to show which acceptance tests passed, and which R-descriptions they checked.


\section{Glossary}

The definition of important terms is placed in this section. You are not required to complete this.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\bibliographystyle{plain}
\bibliography{ref}

\newpage
\appendix 

\input{additional-requirements}

%\input{ehealth-pvs}

\end{document}  
